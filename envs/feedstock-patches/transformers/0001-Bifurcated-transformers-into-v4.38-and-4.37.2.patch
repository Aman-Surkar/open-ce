From b2a39891c06c4d1d5346aff251bf0c33b044d6f9 Mon Sep 17 00:00:00 2001
From: Aman Surkar <Aman.Surkar@ibm.com>
Date: Tue, 19 Nov 2024 05:54:33 +0000
Subject: [PATCH] Bifurcated transformers into v4.38 and 4.37.2

---
 config/build-config.yaml                  |  6 +++
 transformers-4.37.2/meta.yaml             | 65 +++++++++++++++++++++++
 {recipe => transformers-4.38.0}/meta.yaml |  0
 3 files changed, 71 insertions(+)
 create mode 100644 config/build-config.yaml
 create mode 100644 transformers-4.37.2/meta.yaml
 rename {recipe => transformers-4.38.0}/meta.yaml (100%)

diff --git a/config/build-config.yaml b/config/build-config.yaml
new file mode 100644
index 0000000..c77c211
--- /dev/null
+++ b/config/build-config.yaml
@@ -0,0 +1,6 @@
+recipes:
+  - name : transformers-4.37.2
+    path : transformers-4.37.2
+
+  - name : transformers-4.38.0
+    path : transformers-4.38.0
diff --git a/transformers-4.37.2/meta.yaml b/transformers-4.37.2/meta.yaml
new file mode 100644
index 0000000..7d57169
--- /dev/null
+++ b/transformers-4.37.2/meta.yaml
@@ -0,0 +1,65 @@
+{% set name = "transformers" %}
+{% set version = "4.37.2" %}
+
+package:
+  name: {{ name|lower }}
+  version: {{ version }}
+
+source:
+  url: https://pypi.io/packages/source/{{ name[0] }}/{{ name }}/{{ name }}-{{ version }}.tar.gz
+  sha256: f307082ae5d528b8480611a4879a4a11651012d0e9aaea3f6cf17219ffd95542
+
+build:
+  noarch: python
+  number: 0
+  script: {{ PYTHON }} -m pip install . -vv
+
+requirements:
+  host:
+    - pip
+    - python >=3.8
+  run:
+    - python >=3.8
+    - datasets !=2.5.0  # Required for transformers-cli.
+    - filelock
+    - huggingface_hub >=0.19.3,<1.0
+    - numpy >=1.17
+    - regex !=2019.12.17
+    - requests
+    - safetensors >=0.4.1
+    - packaging >=20.0
+    - pyyaml >=5.1
+    - tqdm >=4.27
+    - tokenizers >=0.15,<0.19
+
+test:
+  imports:
+    - transformers
+    - transformers.benchmark
+    - transformers.commands
+    - transformers.data
+    - transformers.kernels
+    - transformers.models
+    - transformers.pipelines
+    - transformers.tools
+    - transformers.utils
+
+  commands:
+    - transformers-cli --help
+
+about:
+  home: https://github.com/huggingface/transformers
+  license: Apache-2.0
+  license_family: APACHE
+  license_file: LICENSE
+  summary: State-of-the-art Natural Language Processing for TensorFlow 2.0 and PyTorch
+  doc_url: https://huggingface.co/transformers/
+
+extra:
+  recipe-maintainers:
+    - mxr-conda
+    - roccqqck
+    - oblute
+    - rluria14
+    - ndmaxar
+    - setu4993
diff --git a/recipe/meta.yaml b/transformers-4.38.0/meta.yaml
similarity index 100%
rename from recipe/meta.yaml
rename to transformers-4.38.0/meta.yaml
-- 
2.40.1

